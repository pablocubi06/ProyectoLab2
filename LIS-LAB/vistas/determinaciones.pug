html(lang="en")
  head
    meta(charset="UTF-8")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC", crossorigin="anonymous")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Determinaciones
  body
    header
      h3.text-center Determinaciones
      .row
        .col-6
          form.d-flex.container(action="/buscar-determinacion", method="post")
            input.form-control.me-2(name = "valor" type="search", placeholder="Ingresa el tipo de examen ", aria-label="Search")
            button.btn.btn-outline-info(type="submit") Buscar
          // Si hay exámenes, los muestra en una tabla
          if (d && d.length > 0) 
            h2 Resultados de Búsqueda
            .col-6
            table(class="table table-success table-striped")
              thead(class= "table-success")
                tr(class= "table-success")
                  th(class= "table-success") Código
                  th(class= "table-success") Cod Examen
                  th(class= "table-success") Determinacion
                  th(class= "table-success") Unidad de medida
                  th(class= "table-success") Acciones
              tbody(class= "table-success")
                each ds in d
                  tr(class= "table-success")
                    td(class="table-success") #{ds.codigo}
                    td(class="table-success") #{ds.cod_examen}
                    td(class="table-success") #{ds.nombre_determ}
                    td(class="table-success") #{ds.unidad_medida}
                    td(class="table-success")
                      form(action=`/editar-examen/${ds.codigo}`, method="get")
                        button(class="btn btn-outline-success" type="submit") Actualizar 
                      form(action=`/eliminar-examen/${ds.codigo}`, method="get")
                        button(class="btn btn-outline-danger" type="submit") Eliminar
          -else 
            //h2 No se encontraron resultados
            //form(action="/cargarPaciente", method="get")
              button(type="submit") Agregar nuevo  
        .col-5
          figure.text-center
            blockquote.blockquote
              h5.blockquote-title Determinación
            figcaption.blockquote-footer
              AGREGAR NUEVA DETERMINACION A UNA TIPO DE EXAMEN
            form.row.g-3
              .col-md-12
                label.form-label(for="inputState") Examen
                select#Examenes.form-select
                  if examenes
                    each examen in examenes
                      option(value="${examen.codigo}") ${examen.nombre_analisis}
                  else
                    option(value="0") Seleccionar examen
              .col-12
                label.form-label(for="inputAddress") Nombre de la determinación
                input(type="text", class="form-control", id="inputAddress", placeholder="Ejemplo: glucosa")
              .col-md-6
                label.form-label(for="inputEmail4") Unidad de medida a utilizar
                input(type="text", class="form-control", id="inputEmail4")
              .col-8
                button.btn.btn-info(type="submit") Enviar
              .col-12
                button.btn.btn-info(type="submit") Volver al menú principal
  script(src="/script/jsDeterminaciones.js")